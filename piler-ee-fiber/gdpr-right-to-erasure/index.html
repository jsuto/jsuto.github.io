
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://jsuto.github.io/piler-ee-v2/gdpr-right-to-erasure/">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.6.20">
    
    
      
        <title>GDPR Article 17 - Right to Erasure - piler enterprise 2.x documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e53b48f4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#gdpr-article-17-right-to-erasure" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="piler enterprise 2.x documentation" class="md-header__button md-logo" aria-label="piler enterprise 2.x documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            piler enterprise 2.x documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              GDPR Article 17 - Right to Erasure
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="piler enterprise 2.x documentation" class="md-nav__button md-logo" aria-label="piler enterprise 2.x documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    piler enterprise 2.x documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://mailpiler.com/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Site
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Key Concepts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delete-all-approach" class="md-nav__link">
    <span class="md-ellipsis">
      Delete-All Approach
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#legal-hold-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Legal Hold Integration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-lifecycle" class="md-nav__link">
    <span class="md-ellipsis">
      Request Lifecycle
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-gdpr-erasure-feature" class="md-nav__link">
    <span class="md-ellipsis">
      Using the GDPR Erasure Feature
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using the GDPR Erasure Feature">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-the-feature" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing the Feature
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-an-erasure-request" class="md-nav__link">
    <span class="md-ellipsis">
      Creating an Erasure Request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#understanding-the-scope-assessment" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding the Scope Assessment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reviewing-and-approving-requests" class="md-nav__link">
    <span class="md-ellipsis">
      Reviewing and Approving Requests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executing-the-deletion" class="md-nav__link">
    <span class="md-ellipsis">
      Executing the Deletion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-the-deletion-certificate" class="md-nav__link">
    <span class="md-ellipsis">
      Downloading the Deletion Certificate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viewing-the-audit-trail" class="md-nav__link">
    <span class="md-ellipsis">
      Viewing the Audit Trail
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflow-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow Diagram
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-reference" class="md-nav__link">
    <span class="md-ellipsis">
      API Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list-requests" class="md-nav__link">
    <span class="md-ellipsis">
      List Requests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-request-details" class="md-nav__link">
    <span class="md-ellipsis">
      Get Request Details
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-request" class="md-nav__link">
    <span class="md-ellipsis">
      Create Request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-scope-assessment" class="md-nav__link">
    <span class="md-ellipsis">
      Run Scope Assessment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approve-request" class="md-nav__link">
    <span class="md-ellipsis">
      Approve Request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reject-request" class="md-nav__link">
    <span class="md-ellipsis">
      Reject Request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execute-deletion" class="md-nav__link">
    <span class="md-ellipsis">
      Execute Deletion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-certificate-html" class="md-nav__link">
    <span class="md-ellipsis">
      Get Certificate (HTML)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-certificate-pdf" class="md-nav__link">
    <span class="md-ellipsis">
      Get Certificate (PDF)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-audit-trail" class="md-nav__link">
    <span class="md-ellipsis">
      Get Audit Trail
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Database Schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database Schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gdpr_requests" class="md-nav__link">
    <span class="md-ellipsis">
      gdpr_requests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gdpr_request_audit" class="md-nav__link">
    <span class="md-ellipsis">
      gdpr_request_audit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gdpr_request_sequence" class="md-nav__link">
    <span class="md-ellipsis">
      gdpr_request_sequence
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#identity-verification" class="md-nav__link">
    <span class="md-ellipsis">
      Identity Verification
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#legal-hold-coordination" class="md-nav__link">
    <span class="md-ellipsis">
      Legal Hold Coordination
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#record-keeping" class="md-nav__link">
    <span class="md-ellipsis">
      Record Keeping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response-timelines" class="md-nav__link">
    <span class="md-ellipsis">
      Response Timelines
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Limitations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Limitations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multi-party-emails" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-Party Emails
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backup-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Backup Considerations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-index-timing" class="md-nav__link">
    <span class="md-ellipsis">
      Search Index Timing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request-stuck-in-assessing" class="md-nav__link">
    <span class="md-ellipsis">
      Request Stuck in "Assessing"
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#legal-hold-blocking-unexpectedly" class="md-nav__link">
    <span class="md-ellipsis">
      Legal Hold Blocking Unexpectedly
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certificate-pdf-generation-fails" class="md-nav__link">
    <span class="md-ellipsis">
      Certificate PDF Generation Fails
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deletion-not-appearing-complete" class="md-nav__link">
    <span class="md-ellipsis">
      Deletion Not Appearing Complete
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Related Documentation
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="gdpr-article-17-right-to-erasure">GDPR Article 17 - Right to Erasure<a class="headerlink" href="#gdpr-article-17-right-to-erasure" title="Permanent link">#</a></h1>
<p>This documentation applies to Piler enterprise edition 2.1.0+</p>
<p>Publication date: 2025-DEC-26</p>
<hr />
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">#</a></h2>
<p>Piler Enterprise provides a complete workflow for handling GDPR Article 17 "Right to Erasure" (also known as "Right to be Forgotten") requests. This feature enables Data Protection Officers (DPOs) and auditors to:</p>
<ul>
<li>Create erasure requests for data subjects by email address</li>
<li>Assess the scope of affected emails</li>
<li>Check for legal holds that may block deletion</li>
<li>Approve or reject requests with full audit trail</li>
<li>Execute deletion with complete erasure</li>
<li>Generate deletion certificates as proof of compliance</li>
</ul>
<hr />
<h2 id="key-concepts">Key Concepts<a class="headerlink" href="#key-concepts" title="Permanent link">#</a></h2>
<h3 id="delete-all-approach">Delete-All Approach<a class="headerlink" href="#delete-all-approach" title="Permanent link">#</a></h3>
<p>Piler Enterprise uses a <strong>full deletion</strong> approach rather than redaction for GDPR compliance. When a data subject requests erasure:</p>
<ul>
<li><strong>All emails</strong> where the data subject appears as sender OR recipient are <strong>permanently deleted</strong></li>
<li>This includes multi-party emails, which are deleted for <strong>all parties</strong>, not just the data subject</li>
<li>The archived message files (.m files) are scheduled for purging</li>
</ul>
<p><strong>Why delete instead of redact?</strong></p>
<ol>
<li>Archived message files contain original headers that cannot be modified without compromising archive integrity</li>
<li>The "View Headers" feature would reveal original sender/recipient data even if metadata was redacted</li>
<li>The "Restore to Mailbox" feature would deliver the original unredacted message</li>
<li>True GDPR Article 17 compliance requires complete erasure of personal data</li>
</ol>
<h3 id="legal-hold-integration">Legal Hold Integration<a class="headerlink" href="#legal-hold-integration" title="Permanent link">#</a></h3>
<p>The GDPR erasure workflow integrates with the Legal Hold system:</p>
<ul>
<li>If any affected emails are under an active legal hold, the erasure request is <strong>blocked</strong></li>
<li>The system checks both user-level holds (specific email addresses) and domain-level holds</li>
<li>Blocked requests show the specific legal hold(s) preventing deletion</li>
<li>Article 17(3) GDPR explicitly allows retention where required for legal proceedings</li>
</ul>
<h3 id="request-lifecycle">Request Lifecycle<a class="headerlink" href="#request-lifecycle" title="Permanent link">#</a></h3>
<p>Each GDPR erasure request progresses through these statuses:</p>
<table>
<thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pending</code></td>
<td>Request created, awaiting assessment</td>
</tr>
<tr>
<td><code>assessing</code></td>
<td>System is analyzing scope of affected emails</td>
</tr>
<tr>
<td><code>blocked</code></td>
<td>Cannot proceed due to active legal hold</td>
</tr>
<tr>
<td><code>pending_approval</code></td>
<td>Assessment complete, awaiting DPO/auditor approval</td>
</tr>
<tr>
<td><code>approved</code></td>
<td>Approved for execution</td>
</tr>
<tr>
<td><code>executing</code></td>
<td>Deletion in progress</td>
</tr>
<tr>
<td><code>completed</code></td>
<td>Deletion finished, certificate available</td>
</tr>
<tr>
<td><code>rejected</code></td>
<td>Request rejected with documented reason</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="using-the-gdpr-erasure-feature">Using the GDPR Erasure Feature<a class="headerlink" href="#using-the-gdpr-erasure-feature" title="Permanent link">#</a></h2>
<h3 id="accessing-the-feature">Accessing the Feature<a class="headerlink" href="#accessing-the-feature" title="Permanent link">#</a></h3>
<ol>
<li>Log in as an administrator with auditor permissions</li>
<li>Navigate to <strong>Compliance &gt; GDPR Requests</strong> in the admin menu</li>
<li>The dashboard shows an overview of all requests by status</li>
</ol>
<h3 id="creating-an-erasure-request">Creating an Erasure Request<a class="headerlink" href="#creating-an-erasure-request" title="Permanent link">#</a></h3>
<ol>
<li>Click <strong>New Erasure Request</strong></li>
<li>Enter the <strong>Data Subject Name</strong> (optional but recommended for documentation)</li>
<li>Add one or more <strong>Email Addresses</strong> associated with the data subject</li>
<li>Click "Add" after entering each email address</li>
<li>The data subject may have multiple email addresses (e.g., work and personal)</li>
<li>Review the warning about deletion scope</li>
<li>Click <strong>Create Request</strong></li>
</ol>
<p>The system will automatically begin scope assessment after creation.</p>
<h3 id="understanding-the-scope-assessment">Understanding the Scope Assessment<a class="headerlink" href="#understanding-the-scope-assessment" title="Permanent link">#</a></h3>
<p>The assessment phase counts:</p>
<ul>
<li><strong>Emails as Sender</strong>: Messages where the data subject sent the email</li>
<li><strong>Emails as Recipient</strong>: Messages where the data subject received the email</li>
<li><strong>Attachments</strong>: Files associated with affected emails</li>
</ul>
<p><strong>Important</strong>: The total count may include duplicates if the data subject sent emails to themselves or appears in both sender and recipient fields.</p>
<h3 id="reviewing-and-approving-requests">Reviewing and Approving Requests<a class="headerlink" href="#reviewing-and-approving-requests" title="Permanent link">#</a></h3>
<p>After assessment completes:</p>
<ol>
<li>Click <strong>View Details</strong> to review the full scope</li>
<li>Verify the data subject's identity through your organization's verification process</li>
<li>If approved, click <strong>Approve</strong></li>
<li>Review the warning about multi-party email deletion</li>
<li>Confirm you have verified the data subject's identity</li>
<li>If rejected, click <strong>Reject</strong> and provide a documented reason</li>
</ol>
<h3 id="executing-the-deletion">Executing the Deletion<a class="headerlink" href="#executing-the-deletion" title="Permanent link">#</a></h3>
<p>After approval:</p>
<ol>
<li>Click <strong>Execute Deletion</strong></li>
<li>Review the final warning showing the number of emails to be deleted</li>
<li>Confirm to proceed</li>
</ol>
<p>The deletion process:</p>
<ol>
<li>Sets each email's retention date to today (scheduling for purge)</li>
<li>Removes emails from the Manticore search index</li>
<li>Removes emails from the semantic search embeddings (if enabled)</li>
<li>Logs all actions to the audit trail</li>
</ol>
<p><strong>Note</strong>: The actual removal of archived message files from storage occurs when the purge daemon runs, according to your system's purge schedule.</p>
<h3 id="downloading-the-deletion-certificate">Downloading the Deletion Certificate<a class="headerlink" href="#downloading-the-deletion-certificate" title="Permanent link">#</a></h3>
<p>After execution completes:</p>
<ol>
<li>Click <strong>Certificate (HTML)</strong> for a viewable HTML certificate</li>
<li>Click <strong>Certificate (PDF)</strong> for a PDF version (requires Gotenberg service)</li>
</ol>
<p>The certificate includes:</p>
<ul>
<li>Request ID</li>
<li>Data subject email address(es)</li>
<li>Request and completion dates</li>
<li>Number of emails deleted</li>
<li>Approver information</li>
<li>SHA-256 certificate hash for verification</li>
</ul>
<h3 id="viewing-the-audit-trail">Viewing the Audit Trail<a class="headerlink" href="#viewing-the-audit-trail" title="Permanent link">#</a></h3>
<p>Click <strong>Audit Trail</strong> on any request to view:</p>
<ul>
<li>All actions taken on the request</li>
<li>Who performed each action</li>
<li>Timestamps and IP addresses</li>
<li>Additional details for each action</li>
</ul>
<hr />
<h2 id="workflow-diagram">Workflow Diagram<a class="headerlink" href="#workflow-diagram" title="Permanent link">#</a></h2>
<pre><code>┌─────────────────────────────────────────────────────────────────┐
│                    Create Erasure Request                        │
│  - Enter data subject name (optional)                           │
│  - Add email address(es)                                        │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                    Automatic Scope Assessment                    │
│  - Count emails where subject is sender                         │
│  - Count emails where subject is recipient                      │
│  - Count associated attachments                                 │
│  - Check for blocking legal holds                               │
└─────────────────────────────────────────────────────────────────┘
                              │
                    ┌─────────┴─────────┐
                    │                   │
                    ▼                   ▼
    ┌───────────────────────┐   ┌───────────────────────┐
    │   Legal Hold Found    │   │   No Legal Hold       │
    │   Status: BLOCKED     │   │   Status: PENDING     │
    │                       │   │          APPROVAL     │
    │   Cannot proceed      │   └───────────────────────┘
    │   until hold lifted   │               │
    └───────────────────────┘               │
                              ┌─────────────┴─────────────┐
                              │                           │
                              ▼                           ▼
                ┌───────────────────────┐   ┌───────────────────────┐
                │       Approve         │   │       Reject          │
                │   - Verify identity   │   │   - Document reason   │
                │   - Review scope      │   │   Status: REJECTED    │
                │   Status: APPROVED    │   └───────────────────────┘
                └───────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                    Execute Deletion                              │
│  - Mark emails for purge (set retained date)                    │
│  - Remove from search index                                      │
│  - Remove from semantic embeddings                              │
│  - Log all actions                                              │
│  Status: EXECUTING → COMPLETED                                  │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                    Generate Certificate                          │
│  - Request details                                              │
│  - Deletion statistics                                          │
│  - SHA-256 hash for verification                                │
│  - Available in HTML and PDF formats                            │
└─────────────────────────────────────────────────────────────────┘
</code></pre>
<hr />
<h2 id="api-reference">API Reference<a class="headerlink" href="#api-reference" title="Permanent link">#</a></h2>
<p>The GDPR erasure feature is accessible via REST API for integration with external systems.</p>
<h3 id="list-requests">List Requests<a class="headerlink" href="#list-requests" title="Permanent link">#</a></h3>
<pre><code>GET /api/v1/admin/gdpr/requests
</code></pre>
<p>Query parameters:
- <code>status</code> - Filter by status (optional)
- <code>limit</code> - Number of results (default: 50)
- <code>offset</code> - Pagination offset</p>
<h3 id="get-request-details">Get Request Details<a class="headerlink" href="#get-request-details" title="Permanent link">#</a></h3>
<pre><code>GET /api/v1/admin/gdpr/requests/:request_id
</code></pre>
<h3 id="create-request">Create Request<a class="headerlink" href="#create-request" title="Permanent link">#</a></h3>
<pre><code>POST /api/v1/admin/gdpr/requests

{
  &quot;email_addresses&quot;: [&quot;john.doe@example.com&quot;, &quot;j.doe@example.com&quot;],
  &quot;requester_name&quot;: &quot;John Doe&quot;
}
</code></pre>
<h3 id="run-scope-assessment">Run Scope Assessment<a class="headerlink" href="#run-scope-assessment" title="Permanent link">#</a></h3>
<pre><code>POST /api/v1/admin/gdpr/requests/:request_id/assess
</code></pre>
<h3 id="approve-request">Approve Request<a class="headerlink" href="#approve-request" title="Permanent link">#</a></h3>
<pre><code>POST /api/v1/admin/gdpr/requests/:request_id/approve
</code></pre>
<h3 id="reject-request">Reject Request<a class="headerlink" href="#reject-request" title="Permanent link">#</a></h3>
<pre><code>POST /api/v1/admin/gdpr/requests/:request_id/reject

{
  &quot;reason&quot;: &quot;Identity could not be verified&quot;
}
</code></pre>
<h3 id="execute-deletion">Execute Deletion<a class="headerlink" href="#execute-deletion" title="Permanent link">#</a></h3>
<pre><code>POST /api/v1/admin/gdpr/requests/:request_id/execute
</code></pre>
<h3 id="get-certificate-html">Get Certificate (HTML)<a class="headerlink" href="#get-certificate-html" title="Permanent link">#</a></h3>
<pre><code>GET /api/v1/admin/gdpr/requests/:request_id/certificate
</code></pre>
<h3 id="get-certificate-pdf">Get Certificate (PDF)<a class="headerlink" href="#get-certificate-pdf" title="Permanent link">#</a></h3>
<pre><code>GET /api/v1/admin/gdpr/requests/:request_id/certificate/pdf
</code></pre>
<h3 id="get-audit-trail">Get Audit Trail<a class="headerlink" href="#get-audit-trail" title="Permanent link">#</a></h3>
<pre><code>GET /api/v1/admin/gdpr/requests/:request_id/audit
</code></pre>
<hr />
<h2 id="database-schema">Database Schema<a class="headerlink" href="#database-schema" title="Permanent link">#</a></h2>
<p>The GDPR erasure feature uses the following tables:</p>
<h3 id="gdpr_requests">gdpr_requests<a class="headerlink" href="#gdpr_requests" title="Permanent link">#</a></h3>
<p>Stores erasure request information and status.</p>
<table>
<thead>
<tr>
<th>Column</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>BIGINT</td>
<td>Primary key</td>
</tr>
<tr>
<td>request_id</td>
<td>VARCHAR(50)</td>
<td>Human-readable ID (e.g., GDPR-2026-00001)</td>
</tr>
<tr>
<td>email_addresses</td>
<td>JSON</td>
<td>Array of data subject email addresses</td>
</tr>
<tr>
<td>requester_name</td>
<td>VARCHAR(255)</td>
<td>Data subject name</td>
</tr>
<tr>
<td>status</td>
<td>ENUM</td>
<td>Current request status</td>
</tr>
<tr>
<td>emails_as_sender</td>
<td>INT</td>
<td>Count from scope assessment</td>
</tr>
<tr>
<td>emails_as_recipient</td>
<td>INT</td>
<td>Count from scope assessment</td>
</tr>
<tr>
<td>attachments_count</td>
<td>INT</td>
<td>Count from scope assessment</td>
</tr>
<tr>
<td>blocked_by_legal_hold</td>
<td>BOOLEAN</td>
<td>Whether blocked by legal hold</td>
</tr>
<tr>
<td>legal_hold_ids</td>
<td>JSON</td>
<td>Array of blocking hold IDs</td>
</tr>
<tr>
<td>blocked_reason</td>
<td>TEXT</td>
<td>Explanation if blocked</td>
</tr>
<tr>
<td>created_by</td>
<td>VARCHAR(255)</td>
<td>User who created request</td>
</tr>
<tr>
<td>created_at</td>
<td>DATETIME</td>
<td>Creation timestamp</td>
</tr>
<tr>
<td>approved_by</td>
<td>VARCHAR(255)</td>
<td>User who approved/rejected</td>
</tr>
<tr>
<td>approved_at</td>
<td>DATETIME</td>
<td>Approval timestamp</td>
</tr>
<tr>
<td>rejection_reason</td>
<td>TEXT</td>
<td>Reason if rejected</td>
</tr>
<tr>
<td>executed_at</td>
<td>DATETIME</td>
<td>Execution timestamp</td>
</tr>
<tr>
<td>deleted_count</td>
<td>INT</td>
<td>Emails deleted</td>
</tr>
<tr>
<td>redacted_count</td>
<td>INT</td>
<td>Always 0 (delete-all approach)</td>
</tr>
<tr>
<td>certificate_hash</td>
<td>VARCHAR(64)</td>
<td>SHA-256 hash of certificate</td>
</tr>
</tbody>
</table>
<h3 id="gdpr_request_audit">gdpr_request_audit<a class="headerlink" href="#gdpr_request_audit" title="Permanent link">#</a></h3>
<p>Stores the audit trail for each request.</p>
<table>
<thead>
<tr>
<th>Column</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>BIGINT</td>
<td>Primary key</td>
</tr>
<tr>
<td>request_id</td>
<td>VARCHAR(50)</td>
<td>Reference to gdpr_requests</td>
</tr>
<tr>
<td>action</td>
<td>VARCHAR(50)</td>
<td>Action performed</td>
</tr>
<tr>
<td>performed_by</td>
<td>VARCHAR(255)</td>
<td>User who performed action</td>
</tr>
<tr>
<td>performed_at</td>
<td>DATETIME</td>
<td>Timestamp</td>
</tr>
<tr>
<td>details</td>
<td>JSON</td>
<td>Additional context</td>
</tr>
<tr>
<td>ip_address</td>
<td>VARCHAR(45)</td>
<td>Client IP address</td>
</tr>
</tbody>
</table>
<h3 id="gdpr_request_sequence">gdpr_request_sequence<a class="headerlink" href="#gdpr_request_sequence" title="Permanent link">#</a></h3>
<p>Generates sequential request IDs per year.</p>
<table>
<thead>
<tr>
<th>Column</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>year_prefix</td>
<td>VARCHAR(4)</td>
<td>Year (e.g., "2026")</td>
</tr>
<tr>
<td>last_sequence</td>
<td>INT</td>
<td>Last used sequence number</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">#</a></h2>
<h3 id="identity-verification">Identity Verification<a class="headerlink" href="#identity-verification" title="Permanent link">#</a></h3>
<p>Before approving any erasure request:</p>
<ol>
<li>Verify the requester's identity through your organization's established procedures</li>
<li>Confirm the email addresses belong to the data subject</li>
<li>Document the verification method used</li>
</ol>
<h3 id="legal-hold-coordination">Legal Hold Coordination<a class="headerlink" href="#legal-hold-coordination" title="Permanent link">#</a></h3>
<ul>
<li>Review all active legal holds before creating erasure requests</li>
<li>Coordinate with legal counsel if holds conflict with erasure obligations</li>
<li>Document the legal basis for any retention that overrides erasure requests</li>
</ul>
<h3 id="record-keeping">Record Keeping<a class="headerlink" href="#record-keeping" title="Permanent link">#</a></h3>
<ul>
<li>Download and securely store deletion certificates</li>
<li>Maintain records of erasure requests for compliance documentation</li>
<li>Export audit trails for long-term retention</li>
</ul>
<h3 id="response-timelines">Response Timelines<a class="headerlink" href="#response-timelines" title="Permanent link">#</a></h3>
<p>Under GDPR, you must respond to erasure requests within:</p>
<ul>
<li><strong>30 days</strong> for standard requests</li>
<li><strong>Up to 90 days</strong> for complex requests (with notification to the data subject)</li>
</ul>
<p>Plan your verification and approval workflows accordingly.</p>
<hr />
<h2 id="limitations">Limitations<a class="headerlink" href="#limitations" title="Permanent link">#</a></h2>
<h3 id="multi-party-emails">Multi-Party Emails<a class="headerlink" href="#multi-party-emails" title="Permanent link">#</a></h3>
<p>When deleting emails involving multiple parties:</p>
<ul>
<li>The email is deleted for <strong>all</strong> parties, not just the data subject</li>
<li>Other recipients lose access to that email</li>
<li>Consider notifying affected users if appropriate for your organization</li>
</ul>
<h3 id="backup-considerations">Backup Considerations<a class="headerlink" href="#backup-considerations" title="Permanent link">#</a></h3>
<ul>
<li>Emails in backups are not immediately deleted</li>
<li>Upon backup restoration, purge rules will apply to restored data</li>
<li>Consider your backup retention policy in relation to erasure obligations</li>
</ul>
<h3 id="search-index-timing">Search Index Timing<a class="headerlink" href="#search-index-timing" title="Permanent link">#</a></h3>
<ul>
<li>Emails are immediately removed from Manticore search index</li>
<li>The actual message files are removed when the purge daemon runs</li>
<li>Users may briefly see search results that fail to display (until purge completes)</li>
</ul>
<hr />
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">#</a></h2>
<h3 id="request-stuck-in-assessing">Request Stuck in "Assessing"<a class="headerlink" href="#request-stuck-in-assessing" title="Permanent link">#</a></h3>
<ul>
<li>Check database connectivity</li>
<li>Review application logs for errors</li>
<li>Manually trigger assessment via the API</li>
</ul>
<h3 id="legal-hold-blocking-unexpectedly">Legal Hold Blocking Unexpectedly<a class="headerlink" href="#legal-hold-blocking-unexpectedly" title="Permanent link">#</a></h3>
<ul>
<li>Click "View Details" to see which holds are blocking</li>
<li>Check both user-level and domain-level holds</li>
<li>Verify the hold status (only "active" holds block)</li>
</ul>
<h3 id="certificate-pdf-generation-fails">Certificate PDF Generation Fails<a class="headerlink" href="#certificate-pdf-generation-fails" title="Permanent link">#</a></h3>
<ul>
<li>Ensure Gotenberg service is running and accessible</li>
<li>Check <code>GOTENBERG_URL</code> configuration</li>
<li>HTML certificates remain available as fallback</li>
</ul>
<h3 id="deletion-not-appearing-complete">Deletion Not Appearing Complete<a class="headerlink" href="#deletion-not-appearing-complete" title="Permanent link">#</a></h3>
<ul>
<li>Emails are marked for purge but files remain until purge daemon runs</li>
<li>Check purge daemon schedule and logs</li>
<li>Search index removal is immediate</li>
</ul>
<hr />
<h2 id="related-documentation">Related Documentation<a class="headerlink" href="#related-documentation" title="Permanent link">#</a></h2>
<ul>
<li><a href="../gdpr/">GDPR Compliance Overview</a> - Legal and regulatory framework</li>
<li><a href="../ediscovery/">Legal Hold System</a> - Managing litigation holds</li>
<li><a href="../security/">Audit Logging</a> - Understanding audit trails</li>
<li><a href="../fiber-ui-config-options/">Retention Policies</a> - Configuring data retention</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>